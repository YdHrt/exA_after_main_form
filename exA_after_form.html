<!--
  参考サイト https://zenn.dev/yurukei20/articles/9741118bfb5ee0 
https://www.mgtnsn.com/blog/google-form-original-html-css/
-->

<!-- formによってformのactionと質問inputのnameを変更する -->
<!-- <formで検索 -->
<!-- entry.　で検索 -->


<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">


<form action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSepI0npmrhvnMWhXvmREO9d9VL6zku0YZEwGQwyElGN011buQ/formResponse" method="POST" id="mG61Hd" class="wrapper" target="_self" onsubmit="submitted=true;">

    <!-- タイトル -->
    <div class="title box">
        <h1>テレキネシス 実験A 実験後アンケート</h1>
    </div>
    <!-- ここまでタイトル -->

    <!-- 被験者番号 -->
    <div class="user-id box">
        <h2 class="question">被験者番号</h2>
        <input type="text" name="entry.1969700154" autocomplete="id" id="subjectID" required>
    </div>
    <!-- ここまで被験者番号 -->





    <!-- ここからスライダー -->
    <div class="form-slider box">
        <h2 class="question">実験中に体験した感覚は、自身の思っていたテレキネシスのイメージと合致していた</h2>
        <div class="slider-wrapper">
            <input class="slider" type="range" name="entry.1391359758" value="0.5" min="0" max="1" step="0.0001" oninput="document.getElementById('output1').value=this.value" required>
        </div>
        <div style="float: left; padding-top: 10px;">全くそう思わない</div>
        <div style="float: right; padding-top: 10px;">全くそう思う</div>

        <br>
    </div>
    <!-- ここまでスライダー -->

    <!-- ここから自由記述 -->
    <div class="form-text box">
        <h2 class="question">なぜそのように思ったか</h2>
        <textarea name="entry.335377657" class="form-control text-area" rows="3" required></textarea><br>
    </div>
    <!-- ここまで自由記述 -->


    <!-- ここから選択 -->
    <div class="form-likert box">
        <h2 class="question">テレキネシスの操作に手を使うのは妥当だと考えるか </h2>
        <!-- <div class="flex-likert">
            <div class="likert-num">考える</div>
            <div class="likert-num">考えない</div>
        </div> -->
        <div>
            <input type="radio" name="entry.152949428" value="考える" required> 考える<br>
            <input type="radio" name="entry.152949428" value="考えない"> 考えない
        </div>
        <!-- <div style="float: left; padding-top: 10px;">全くそう思わない</div>
        <div style="float: right; padding-top: 10px;">全くそう思う</div> -->
    </div>
    <!-- ここまで選択 -->


    <!-- ここから自由記述 -->
    <!-- <div class="form-text box">
        <h2 class="question">考えないと回答した方に質問します。 テレキネシスはどのような操作だと考えるか
        </h2>
        <textarea name="entry.224225466" class="form-control text-area" rows="3"></textarea><br>
    </div> -->
    <!-- ここまで自由記述 -->

    <!-- ここから自由記述 -->
    <div class="form-text box">
        <h2 class="question">なぜそのように思ったか</h2>
        <textarea name="entry.1946036441" class="form-control text-area" rows="3" required></textarea><br>
    </div>
    <!-- ここまで自由記述 -->



    <!-- ここからスライダー -->
    <div class="form-slider box">
        <h2 class="question">手の動きと物体の動きの関係性は適切だった</h2>
        <div class="slider-wrapper">
            <input class="slider" type="range" name="entry.1305702967" value="0.5" min="0" max="1" step="0.0001" oninput="document.getElementById('output1').value=this.value" required>
        </div>
        <div style="float: left; padding-top: 10px;">全くそう思わない</div>
        <div style="float: right; padding-top: 10px;">全くそう思う</div>

        <br>
    </div>
    <!-- ここまでスライダー -->

    <!-- ここから自由記述 -->
    <div class="form-text box">
        <h2 class="question">なぜそのように思ったか</h2>
        <textarea name="entry.715392165" class="form-control text-area" rows="3" required></textarea><br>
    </div>
    <!-- ここまで自由記述 -->



    <!-- ここからスライダー -->
    <div class="form-slider box">
        <h2 class="question">手の動きと物体の動きの関係性は、テレキネシスを操作する際の操作方法のイメージに近かった</h2>
        <div class="slider-wrapper">
            <input class="slider" type="range" name="entry.1797628845" value="0.5" min="0" max="1" step="0.0001" oninput="document.getElementById('output1').value=this.value" required>
        </div>
        <div style="float: left; padding-top: 10px;">全くそう思わない</div>
        <div style="float: right; padding-top: 10px;">全くそう思う</div>

        <br>
    </div>
    <!-- ここまでスライダー -->

    <!-- ここから自由記述 -->
    <div class="form-text box">
        <h2 class="question">なぜそのように思ったか</h2>
        <textarea name="entry.763339378" class="form-control text-area" rows="3" required></textarea><br>
    </div>
    <!-- ここまで自由記述 -->




    <!-- ここから選択 -->
    <div class="form-likert box">
        <h2 class="question">1番目にテレキネシスの感覚に近かった要素を選択してください。 </h2>
        <div>
            <input type="radio" name="entry.1948585902" value="集中" required> 集中<br>
            <input type="radio" name="entry.1948585902" value="力み"> 力み<br>
            <input type="radio" name="entry.1948585902" value="エネルギー感"> エネルギー感
        </div>

    </div>
    <!-- ここまで選択 -->

    <!-- ここから選択 -->
    <div class="form-likert box">
        <h2 class="question">2番目にテレキネシスの感覚に近かった要素を選択してください。 </h2>
        <div>
            <input type="radio" name="entry.896106661" value="集中" required> 集中<br>
            <input type="radio" name="entry.896106661" value="力み"> 力み<br>
            <input type="radio" name="entry.896106661" value="エネルギー感"> エネルギー感
        </div>

    </div>
    <!-- ここまで選択 -->

    <!-- ここから選択 -->
    <div class="form-likert box">
        <h2 class="question">3番目にテレキネシスの感覚に近かった要素を選択してください。 </h2>
        <div>
            <input type="radio" name="entry.466709823" value="集中" required> 集中<br>
            <input type="radio" name="entry.466709823" value="力み"> 力み<br>
            <input type="radio" name="entry.466709823" value="エネルギー感"> エネルギー感
        </div>

    </div>
    <!-- ここまで選択 -->





    <!-- ここから自由記述 -->
    <div class="form-text box">
        <h2 class="question">その他、感想や意見などがあればお願いします</h2>
        <textarea name="entry.749506513" class="form-control text-area" rows="3"></textarea><br>
    </div>
    <!-- ここまで自由記述 -->







    <!-- ここから提出ボタン -->
    <div class="submit">
        <button type="submit" class="btn btn-primary" id="submitBtn" onclick="set_subject_id()">送信</button>
    </div>
    <!-- ここまで提出ボタン -->


</form>
<!-- ここまでフォーム -->



<!-- フッター -->
<footer></footer>
<!-- ここまでフッター -->

<style>
    footer {
        height: 100px;
    }
    /* Track: Chrome, Safari, Opera, Edge Chromium */
    
    input[type="range"]::-webkit-slider-runnable-track {
        background: #c8c8c8;
        height: 5px;
    }
    /* Thumb: Chrome, Safari, Opera, Edge Chromium */
    
    input[type="range"]::-webkit-slider-thumb {
        /* -webkit-appearance: none;
        appearance: none; */
        margin-top: -5px;
        background-color: #808080;
    }
    
    .wrapper {
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        width: 50%;
    }
    
    .contents {
        background-color: black;
    }
    
    .box {
        width: 80%;
        margin: 0.5em auto;
        border: 2px solid #000;
        border-radius: 15px;
        padding: 5%;
    }
    
    .text-area {
        width: 100%;
    }
    
    .likert {
        width: 50px;
    }
    
    .likert-num {
        width: 50px;
        padding-left: 4px;
    }
    
    .flex-likert {
        width: 100%;
        margin: 0 auto;
        text-align: center;
        display: flex;
        justify-content: space-between;
    }
    
    .slider-wrapper {
        text-align: center;
    }
    
    .slider {
        width: 90%;
        accent-color: black;
    }
    
    .submit {
        width: 80%;
        margin: 0.5em auto;
        text-align: right;
        padding: 5%;
    }
    
    .btn {
        width: 15%;
        height: 40px;
        color: black;
        background-color: #ffffff;
        /* border-color: aqua; */
        border: 1px solid black;
    }
    
    .btn:hover {
        color: #ffffff;
        background-color: #c8c8c8;
    }
    
    @media screen and ((min-width: 768px) and (max-width:1200px)) {
        /*タブレットの場合  */
        .likert-num {
            width: 50px;
            padding-left: 5px;
        }
        .flex-likert {
            text-align: left;
        }
    }
    
    @media screen and (max-width: 768px) {
        /* スマホの場合 */
        .wrapper {
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            width: 100%;
        }
        /* input[type="range"]::-webkit-slider-runnable-track { */
        /* background: #c8c8c8; */
        /* height: 5px; */
        /* } */
        /* Thumb: Chrome, Safari, Opera, Edge Chromium */
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            height: 20px;
            width: 20px;
            /* margin-top: -1px; */
            margin-top: -8px;
            border-radius: 50%;
            background-color: #808080;
            /* background: #808080; */
        }
        .btn {
            width: 30%;
        }
        input {
            /*ズームしないように */
            font-size: 16px;
        }
        textarea {
            /*ズームしないように */
            font-size: 16px;
        }
        .flex-likert {
            text-align: left;
        }
    }
</style>

<script>
    window.onload = function() {
        // ページ読み込み時に実行したい処理
        get_subject_id();
    }

    // 被験者番号を保存
    function set_subject_id() {
        try {
            localStorage.setItem("subjectID", document.getElementById('subjectID').value);
        } catch (error) {}
    }

    // 被験者の読み込み
    function get_subject_id() {
        try {
            var subject_ID = localStorage.getItem("subjectID");
            document.getElementById('subjectID').value = subject_ID;
        } catch (error) {}
    }



    const ua = window.navigator.userAgent.toLowerCase()
    let safari
    if (ua.indexOf('chrome') !== -1) {
        safari = false;
    } else if (ua.indexOf('safari') !== -1) {
        safari = true;
    }
    if (safari) {
        const btn = document.getElementById('submitBtn');
        // 送信ボタンが押された際のイベント登録
        btn.addEventListener('touchend', () => {
            //未入力の項目を探す
            const focusElm = document.querySelector('input[type="radio"]:focus,input[type="checkbox"]:focus');
            if (focusElm) { //スクロールで未入力位置に移動
                focusElm.scrollIntoView({
                    behavior: 'smooth'
                });
            }
        })

    }
</script>